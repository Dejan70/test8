(this["webpackJsonpreactreduxsaga-frontend"]=this["webpackJsonpreactreduxsaga-frontend"]||[]).push([[0],{46:function(e,t,a){e.exports=a(77)},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(43),n=a(0),s=a.n(n),o=a(3),i=a(4),c=a(8),l=a(7),u=a(24),d=a.n(u),p=a(23),m=a(20),f=a(45),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object.assign({},e,{data:null,isLoading:!0,error:!1,errorMessage:null,logout:!1});case"DONE_LOGIN":return Object.assign({},e,{data:t.data,isLoading:!1,error:!1,errorMessage:null});case"ERROR_LOGIN":return Object.assign({},e,{data:null,isLoading:!1,error:!0,errorMessage:t.data});case"REGISTER":return Object.assign({},e,{register:null,isLoading:!0,error:!1,errorMessage:null});case"DONE_REGISTER":return Object.assign({},e,{register:!0,isLoading:!1,error:!1,errorMessage:null});case"ERROR_REGISTER":return Object.assign({},e,{register:null,isLoading:!1,error:!0,errorMessage:t.data});case"RESET_PASSWORD":return Object.assign({},e,{reset:null,isLoading:!0,error:!1,errorMessage:null});case"DONE_RESET_PASSWORD":return Object.assign({},e,{reset:!0,isLoading:!1,error:!1,errorMessage:null});case"ERROR_RESET_PASSWORD":return Object.assign({},e,{reset:null,isLoading:!1,error:!0,errorMessage:t.data});case"RESET_PASSWORD_CONFIRM":return Object.assign({},e,{resetConfirm:null,isLoading:!0,error:!1,errorMessage:null});case"DONE_RESET_PASSWORD_CONFIRM":return Object.assign({},e,{resetConfirm:!0,isLoading:!1,error:!1,errorMessage:null});case"ERROR_RESET_PASSWORD_CONFIRM":return Object.assign({},e,{resetConfirm:null,isLoading:!1,error:!0,errorMessage:t.data});case"SEND_SUPPORT":return Object.assign({},e,{support:null,isLoading:!0,error:!1,errorMessage:null});case"DONE_SEND_SUPPORT":return Object.assign({},e,{support:!0,isLoading:!1,error:!1,errorMessage:null});case"ERROR_SEND_SUPPORT":return Object.assign({},e,{support:null,isLoading:!1,error:!0,errorMessage:t.data});case"SEND_DEMO_REQUEST":return Object.assign({},e,{requestDemo:null,isLoading:!0,error:!1,errorMessage:null});case"DONE_SEND_DEMO_REQUEST":return Object.assign({},e,{requestDemo:!0,isLoading:!1,error:!1,errorMessage:null});case"ERROR_SEND_DEMO_REQUEST":return Object.assign({},e,{requestDemo:null,isLoading:!1,error:!0,errorMessage:t.data});case"UPDATE_USER_INFO":return Object.assign({},e,{data:t.data});case"LOGOUT_ME":return Object.assign({},e,{logout:!0});case"RESET_USER_MESSAGE":return Object.assign({},e,{requestDemo:!1,support:!1,reset:!1,error:!1,errorMessage:null});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},v=Object(m.c)({user:h,ui:g}),b=function(e,t){return"LOGOUT"===t.type?{ui:{},user:{}}:v(e,t)},E=a(10),O=a.n(E),_=a(9);function j(e){return{type:"ERROR_LOGIN",data:e}}function k(e){return{type:"LOGOUT_ME",data:e}}function y(e){return{type:"ERROR_RESET_PASSWORD",data:e}}function w(e){return{type:"ERROR_RESET_PASSWORD_CONFIRM",data:e}}function S(e){return{type:"ERROR_REGISTER",data:e}}var R=a(21),D=a.n(R),x=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"getApiUrl",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return encodeURI("http://testapi.codetest.space/"+t+e.addQuery(a))}},{key:"addQuery",value:function(e){if(e){var t="?"+Object.keys(e).reduce((function(t,a){return t+=a+"="+e[a]+"&"}),"");return t.substring(0,t.length-1)}return""}},{key:"getPublicToken",value:function(){return"dGVzdGNsaWVudDp0ZXN0cGFzcw="}}]),e}(),N=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"get",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(e.has(t))try{return JSON.parse(localStorage.getItem(t))}catch(r){}return a}},{key:"getAndSave",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=a;e.has(t)&&(n=e.get(t)),e.set(t,r(n))}},{key:"set",value:function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(a){}}},{key:"has",value:function(e){return null!==localStorage.getItem(e)}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}},{key:"clearAllExcept",value:function(t){for(var a in localStorage)t.includes(a)||e.remove(a)}},{key:"getAndRemove",value:function(t){var a=JSON.parse(localStorage.getItem(t));return e.remove(t),a}}]),e}();function M(){var e=new Date;return Math.round(e.getTime()/1e3)}function C(e){return{status:0,data:e.data.data}}function F(e){return e.response?{status:2,data:e.response.data.error?e.response.data.error:e.response.data.message?e.response.data.message:"API_ERROR"}:e.request?{status:3,data:"NO_RESPONSE"}:{status:3,data:e.message}}var I=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"login",value:function(e,t){return D.a.post(x.getApiUrl("token"),"grant_type=password&username="+encodeURIComponent(e)+"&password="+encodeURIComponent(t),{headers:{Authorization:"Basic "+x.getPublicToken(),"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return{status:0,data:e.data}})).catch((function(e){return F(e)}))}},{key:"refresh",value:function(e){return D.a.post(x.getApiUrl("refresh"),"grant_type=refresh_token&refresh_token="+e,{headers:{Authorization:"Basic "+x.getPublicToken(),"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return{status:0,data:e.data}})).catch((function(e){return F(e)}))}},{key:"register",value:function(e){return D.a.post(x.getApiUrl("api_pub/register"),e,{}).then((function(e){return C(e)})).catch((function(e){return F(e)}))}},{key:"userInfo",value:function(e){return D.a.get(x.getApiUrl("api/user"),{headers:{Authorization:"Bearer "+e.access_token}}).then((function(e){return C(e)})).catch((function(e){return F(e)}))}},{key:"resetPassword",value:function(e){return D.a.post(x.getApiUrl("api_pub/reset-password"),{username:e}).then((function(e){return C(e)})).catch((function(e){return F(e)}))}},{key:"resetPasswordConfirm",value:function(e,t,a){return D.a.post(x.getApiUrl("api_pub/reset-password-confirm"),{username:e,token:t,password:a}).then((function(e){return C(e)})).catch((function(e){return F(e)}))}}]),e}(),T=O.a.mark(Y),L=O.a.mark($),A=O.a.mark(B),P=O.a.mark(q),U=O.a.mark(z),G=O.a.mark(J),W=O.a.mark(K),V=O.a.mark(Q);function Y(e){var t,a,r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_.b)(I.login,e.data.username,e.data.password);case 2:if(!(t=n.sent)||0!==t.status){n.next=19;break}return n.next=6,Object(_.b)(I.userInfo,t.data);case 6:if(!(a=n.sent)||0!==a.status){n.next=15;break}return(r=Object.assign(t.data,a.data)).obtain_time=M(),N.set("user",r),n.next=13,Object(_.c)({type:"DONE_LOGIN",data:r});case 13:n.next=17;break;case 15:return n.next=17,Object(_.c)(j(a.data));case 17:n.next=21;break;case 19:return n.next=21,Object(_.c)(j(t.data));case 21:case"end":return n.stop()}}),T)}function $(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("LOGIN",Y);case 2:case"end":return e.stop()}}),L)}function B(e){var t;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.b)(I.resetPassword,e.data.username);case 2:if(!(t=a.sent)||0!==t.status){a.next=8;break}return a.next=6,Object(_.c)({type:"DONE_RESET_PASSWORD",data:t.data});case 6:a.next=10;break;case 8:return a.next=10,Object(_.c)(y(t.data));case 10:case"end":return a.stop()}}),A)}function q(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("RESET_PASSWORD",B);case 2:case"end":return e.stop()}}),P)}function z(e){var t;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.b)(I.resetPasswordConfirm,e.data.username,e.data.token,e.data.password);case 2:if(!(t=a.sent)||0!==t.status){a.next=8;break}return a.next=6,Object(_.c)({type:"DONE_RESET_PASSWORD_CONFIRM",data:t.data});case 6:a.next=10;break;case 8:return a.next=10,Object(_.c)(w(t.data));case 10:case"end":return a.stop()}}),U)}function J(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("RESET_PASSWORD_CONFIRM",z);case 2:case"end":return e.stop()}}),G)}function K(e){var t;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.b)(I.register,e.data.params);case 2:if(!(t=a.sent)||0!==t.status){a.next=8;break}return a.next=6,Object(_.c)({type:"DONE_REGISTER",data:t.data});case 6:a.next=10;break;case 8:return a.next=10,Object(_.c)(S(t.data));case 10:case"end":return a.stop()}}),W)}function Q(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("REGISTER",K);case 2:case"end":return e.stop()}}),V)}var X=O.a.mark(Z);function Z(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([$(),Q(),q(),J()]);case 2:case"end":return e.stop()}}),X)}var H=function(){function e(t,a){Object(o.a)(this,e),this.locale=t,this.localeData=a}return Object(i.a)(e,[{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.localeData[e]){if(t){var a=null;return this.localeData[e].replace(/{(\d+|s)}/g,(function(e,r){switch(r){case"s":return a&&"undefined"!==t[a]&&t[a]>1?"s":"";default:return a=r,"undefined"!==typeof t[r]?t[r]:e}}))}return this.localeData[e]}return e}}]),e}(),ee=a(35),te=a(15),ae=a(11),re=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={logout:!1},r}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){var e;this.state.logout&&(N.clearAllExcept(["username"]),N.remove("user"),this.props.dispatch({type:"LOGOUT",data:e}),this.props.history.push("/login"))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.user.logout?{logout:!0}:null}}]),a}(n.Component),ne=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["empty"],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o.a)(this,e),this.name=t,this.value=a||"",this.errorMessage=null,this.validate=r,this.isEmpty=!this.value||0===this.value.length,this.disabled=n},se=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"updateField",value:function(t,a,r){var n=Object.assign({},t);return n[a].value=e.formatValue(r,n[a].validate),n}},{key:"formatValue",value:function(e,t){return t.indexOf("float")>-1||t.indexOf("float_or_empty")>-1?function(e){if(e){var t=e.toString().split(".");return t[1]&&t[1].length>1?t[0]+(t[1]?"."+t[1].charAt(0)+t[1].charAt(1):""):e=(e=(e=e.replace(/[^0-9.]/g,"")).replace(/,/g,"")).replace(/\B(?=(\d{3})+(?!\d))/g,",")}}(e):e}},{key:"updateAndValidateField",value:function(t,a,r){var n=Object.assign({},t);return n[a].value=e.formatValue(r,n[a].validate),n[a]=e.validateField(n[a]),n}},{key:"validateFields",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).reduce((function(r,n){return 0===a.length||~a.indexOf(n)?r[n]=e.validateField(t[n]):r[n]=t[n],r}),{})}},{key:"validateField",value:function(t){var a=t.validate.reduce((function(a,r){switch(r){case"empty":t.value||a.push("fields.errors.empty");break;case"email":/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/gi.test(t.value)||a.push("fields.errors.email");break;case"password":/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d!@#\$%\^&\*]{8,}$/g.test(t.value)||a.push("fields.errors.password");break;case"pin_four_digits":/^\d{4}$/g.test(t.value)||a.push("fields.errors.pin_four_digits");break;case"date":t.value&&(e.checkDateFormat(t.value)||a.push("fields.error.date_format"));break;case"future_date":t.value&&(e.checkDateFormat(t.value)?e.checkDateDigits(t.value)?e.isDateInTheFuture(t.value)||a.push("fields.error.outdated_date"):a.push("fields.error.date_format_digits"):a.push("fields.error.date_format"));break;case"integer_or_empty":""===t.value||/^[0-9]+$/g.test(t.value)||a.push("fields.errors.integer");break;case"integer":/^[0-9]+$/g.test(t.value)||a.push("fields.errors.integer");break;case"integer_up_to_100":(""!==t.value&&!/^[0-9]+$/g.test(t.value)||t.value>100)&&a.push("fields.errors.integer_up_to_100");break;case"float_or_empty":""===t.value||/\d+(\.\d+)?/g.test(t.value)||a.push("fields.errors.float");break;case"float":/\d+(\.\d+)?/g.test(t.value)||a.push("fields.errors.float");break;case"float_up_to_100":""===t.value||/\d+(\.\d+)?/g.test(t.value)?""!==t.value&&parseFloat(t.value)>100&&a.push("fields.errors.float_up_to_100"):a.push("fields.errors.float_up_to_100")}return a}),[]);return t.isEmpty=!t||!t.value||0===t.value.length,Object.assign({},t,{errorMessage:a.length?a:null})}},{key:"checkFieldsForErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce((function(a,r){return 0===t.length||~t.indexOf(r)?a&&!e[r].errorMessage:a}),!0)}},{key:"disableFields",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce((function(a,r){return 0===t.length||~t.indexOf(r)?(e[r].disabled=!0,a[r]=e[r]):a[r]=e[r],a}),{})}},{key:"checkDateFormat",value:function(e){return/^\d{1,2} \/ \d{4}$/.test(e)}},{key:"checkDateDigits",value:function(e){var t=e.split("/"),a=parseInt(t[0].trim(),10),r=parseInt(t[1].trim(),10);return!(r<1e3||r>3e3||0===a||a>12)}},{key:"isDateInTheFuture",value:function(e){return!(d()(e,"MM / YYYY").toDate()-d()(d()().format("MM / YYYY"),"MM / YYYY").toDate()<0)}},{key:"getFieldKeyValues",value:function(e){return Object.keys(e).reduce((function(t,a){return t[a]=e[a].value,t}),{})}}]),e}(),oe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:this.props.type,onChange:function(t){e.props.onChange(e.props.name,t.target.value)},name:this.props.name,value:this.props.value,placeholder:this.props.placeholder,disabled:this.props.disabled,className:this.props.addClass+(this.props.errorMessage?" is-invalid":"")}),this.props.errorMessage&&s.a.createElement("div",{className:"invalid-feedback"},this.props.errorLabelMessage?this.props.errorLabelMessage:"Field required*"))}}]),a}(n.Component),ie=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{type:"password",onChange:function(t){e.props.onChange(e.props.name,t.target.value)},name:this.props.name,value:this.props.value,placeholder:this.props.placeholder,disabled:this.props.disabled,className:this.props.addClass+(this.props.errorMessage?" is-invalid":"")}),this.props.errorMessage&&s.a.createElement("div",{className:"invalid-feedback text-left"},this.props.errorLabelMessage?this.props.errorLabelMessage:"Field required*"))}}]),a}(n.Component),ce=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:this.props.className+(this.props.disabled?" disabled":""),onClick:function(){!e.props.disabled&&e.props.onClick()}},this.props.text))}}]),a}(n.Component),le=a(14),ue=function(e){return s.a.createElement("div",{className:"action-container ".concat(e.addClass)},s.a.createElement("div",{className:"action-loader"},s.a.createElement("img",{className:"loading-img",src:"/images/loader/LoaderBigNew.gif",alt:"loading"})))},de=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidUpdate=function(e,t){null===e.user.data&&r.props.user.data&&r.props.history.push("/")},r.handleInputChange=function(e,t){r.setState({fields:se.updateField(r.state.fields,e,t)})},r.submitForm=function(e){"Enter"===e.key&&r.submit(e)},r.submit=function(e){e&&e.preventDefault(),r.setState({fields:se.validateFields(r.state.fields)},(function(){r.state.fields.password.errorMessage||r.state.fields.username.errorMessage||r.props.dispatch({type:"LOGIN",data:{username:r.state.fields.username.value,password:r.state.fields.password.value}})}))},r.state={fields:{username:new ne("username","",["empty"]),password:new ne("password","",["empty"])}},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"RESET_USER_MESSAGE"})}},{key:"render",value:function(){var e=this.props.translate;return s.a.createElement(re,this.props,s.a.createElement("form",{onKeyPress:this.submitForm},s.a.createElement("h1",null,e("text.sign_in")),s.a.createElement("p",null,e("text.please_login"),s.a.createElement(le.a,{to:"/register"},e("text.or_create_account"))),s.a.createElement("form",null,s.a.createElement("div",{className:"block-margin-bottom-10"},s.a.createElement(oe,Object.assign({onChange:this.handleInputChange},this.state.fields.username,{placeholder:"email@domain.com",type:"email",addClass:"form-control"}))),s.a.createElement("div",{className:"block-margin-bottom-10"},s.a.createElement(ie,Object.assign({onChange:this.handleInputChange},this.state.fields.password,{placeholder:"Enter your password",addClass:"form-control"}))),!this.props.user.isLoading&&s.a.createElement("div",{className:"block-margin-bottom-10"},s.a.createElement(ce,{className:"btn btn-primary btn-block",onClick:this.submit,text:e("text.sign_in")})),this.props.user.isLoading&&s.a.createElement(ue,null)),this.props.user.error&&s.a.createElement("span",null,e(this.props.user.errorMessage))))}}]),a}(n.Component),pe=Object(p.b)((function(e){return e}))(de),me=a(19),fe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e,t){r.setState({fields:se.updateField(r.state.fields,e,t)})},r.submit=function(e){e&&e.preventDefault(),r.setState({fields:se.validateFields(r.state.fields)},(function(){r.state.fields.username.errorMessage||r.props.dispatch({type:"RESET_PASSWORD",data:{username:r.state.fields.username.value}})}))},r.state={fields:{username:new ne("username","",["email","empty"])}},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"RESET_USER_MESSAGE"})}},{key:"render",value:function(){return s.a.createElement(re,this.props,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("h3",null,"Forgot password"),s.a.createElement("p",null,"Enter your email to continue.",s.a.createElement("br",null),"Email needs to be valid and used before."),s.a.createElement("div",null,s.a.createElement("label",null,"Email address"),s.a.createElement("input",{type:"email",className:"form-control",placeholder:"email@domain.com"})),s.a.createElement("a",{href:""},"Reset password"),s.a.createElement("div",null,"Sign in with another account? ",s.a.createElement(le.a,{to:"/login",className:"tx-semibold"},"Login"))))))}}]),a}(n.Component),he=Object(me.a)((function(e){return e}))(fe),ge=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(le.a,{title:this.props.title,className:this.props.addClass,onClick:function(){e.props.dispatch(k({}))}},this.props.translate("app.logout")))}}]),a}(n.Component),ve=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.translate,a=e.history,r=e.dispatch;return s.a.createElement(re,this.props,s.a.createElement("h1",null,t("text.dashboard")),s.a.createElement("div",{className:"link-wrapper"},s.a.createElement(ge,{history:a,translate:t,dispatch:r})))}}]),a}(n.Component),be=Object(p.b)((function(e){return e}))(ve),Ee=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e,t){r.setState({fields:se.updateField(r.state.fields,e,t)})},r.submitForm=function(e){"Enter"===e.key&&r.submit(e)},r.submit=function(e){e&&e.preventDefault();var t=r.props.match.params&&r.props.match.params.email,a=r.props.match.params&&r.props.match.params.token;r.setState({no_match:!1,fields:se.validateFields(r.state.fields)},(function(){se.checkFieldsForErrors(r.state.fields)&&(r.state.fields.password.value===r.state.fields.password_confirm.value?r.props.dispatch({type:"RESET_PASSWORD_CONFIRM",data:{username:t,token:a,password:r.state.fields.password.value}}):r.setState({no_match:!0}))}))},r.state={no_match:!1,fields:{password:new ne("password","",["empty"]),password_confirm:new ne("password_confirm","",["empty"])},is_new:r.props.match.params&&!!r.props.match.params.is_new},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.translate;return s.a.createElement(re,this.props,s.a.createElement("div",null,s.a.createElement("div",null,this.state.no_match&&s.a.createElement("div",null,e("reset_password.no_match")),!this.props.user.resetConfirm&&s.a.createElement(s.a.Fragment,null,s.a.createElement("section",null,s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{className:"col-lg-6 bg-light"},s.a.createElement("div",{className:"ht-100v d-flex align-items-center justify-content-center"})))))),this.props.user.resetConfirm&&s.a.createElement("section",null,s.a.createElement("form",{onKeyPress:this.submitForm},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("h3",null,e("text.choose_password")),s.a.createElement("form",null,s.a.createElement(ie,Object.assign({onChange:this.handleInputChange},this.state.fields.password,{addClass:"form-control",placeholder:e("field.placeholder.new_password")})),s.a.createElement(ie,Object.assign({onChange:this.handleInputChange},this.state.fields.password_confirm,{addClass:"form-control",placeholder:e("field.placeholder.password_confirm")})),!this.props.user.isLoading&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ce,{className:"btn btn-primary btn-block",onClick:this.submit,text:this.state.is_new?e("btn.create_password"):e("btn.reset_password")}),s.a.createElement("br",null),s.a.createElement(le.a,{className:"form-btn-submit link-like-element",to:"/login"},e("btn.back_to_login"))),this.props.user.isLoading&&s.a.createElement(ue,null)),this.props.user.error&&s.a.createElement("span",null,e(this.props.user.errorMessage))))),s.a.createElement("div",null,s.a.createElement("div",null,this.state.is_new?e("create_password.success"):e("reset_password.success")),s.a.createElement(le.a,{to:"/login"},e("btn.back_to_login")))))))}}]),a}(n.Component),Oe=Object(me.a)((function(e){return e}))(Ee),_e=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.translate;return s.a.createElement(re,this.props,s.a.createElement("div",null,s.a.createElement("h3",null,e("page.404.heading_main")),s.a.createElement("p",null,e("page.404.body")),s.a.createElement(le.a,{to:"/home"},e("btn.back_to_home"))))}}]),a}(n.Component),je=Object(me.a)((function(e){return e}))(_e);var ke=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e,t){r.setState({fields:se.updateField(r.state.fields,e,t)})},r.submitForm=function(e){"Enter"===e.key&&r.submit(e)},r.submit=function(e){e&&e.preventDefault(),r.setState({no_match:!1,fields:se.validateFields(r.state.fields)},(function(){se.checkFieldsForErrors(r.state.fields)&&r.props.dispatch({type:"REGISTER",data:{params:se.getFieldKeyValues(r.state.fields)}})}))},r.state={fields:{user_email:new ne("user_email","",["empty"])}},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.translate;return s.a.createElement(re,this.props,s.a.createElement("h1",null,e("text.register")),!this.props.user.isLoading&&!this.props.user.register&&s.a.createElement("form",{onKeyPress:this.submitForm},s.a.createElement("div",{className:"block-margin-bottom-10"},s.a.createElement(oe,Object.assign({onChange:this.handleInputChange},this.state.fields.user_email,{placeholder:"email@domain.com",type:"email"}))),s.a.createElement("div",{className:"block-margin-bottom-10"},s.a.createElement(ce,{onClick:this.submit,text:e("btn.register")}))),this.props.user.isLoading&&s.a.createElement(ue,null),this.props.user.register&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,e("text.register_success")),s.a.createElement(le.a,{to:"/login"},e("btn.back_to_login"))),this.props.user.error&&s.a.createElement("span",null,e(this.props.user.errorMessage)))}}]),a}(n.Component),ye=Object(me.a)((function(e){return e}))(ke),we=function(e){var t=e.component,a=Object(ee.a)(e,["component"]);return s.a.createElement(ae.b,Object.assign({},a,{render:function(e){return N.get("user")?s.a.createElement(t,e):s.a.createElement(ae.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Se=function(e){var t=e.component,a=Object(ee.a)(e,["component"]);return s.a.createElement(ae.b,Object.assign({},a,{render:function(e){return N.get("user")?s.a.createElement(ae.a,{to:{pathname:"/home",state:{from:e.location}}}):s.a.createElement(t,e)}}))},Re=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).unlisten=null,r.state={},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.unlisten=this.props.history.listen((function(e,t){}))}},{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.children)}}]),a}(n.Component),De=function(e){return function(t){return function(a){var r=t(a);return window._DEV_MODE&&(console.log("dispatching:",a),console.log("next store state:",e.getState())),r}}},xe=function(e){return function(t){return function(a){return"invalid_token"===a.data?(e.dispatch(k()),e.getState()):t(a)}}},Ne=Object(f.a)(),Me={user:{data:N.has("user")?N.get("user"):{}}},Ce=Object(m.e)(b,Me,Object(m.d)(Object(m.a)(Ne,xe,De),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));Ne.run(Z);var Fe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),r=t.call(this,e),d.a.locale(e.locale),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.locale,a=e.localeData,r=new H(t,a);return s.a.createElement(p.a,{store:Ce},function(e,t){function a(e,a){return s.a.createElement(e,Object.assign({},a,{translate:function(e,a){return t.translate(e,a)}}))}var r=Object(te.a)();return e.history=r,s.a.createElement(ae.c,{history:r},s.a.createElement(Re,Object.assign({history:r,dispatch:e.dispatch},e.getState(),{translate:function(e,a){return t.translate(e,a)}}),s.a.createElement(ae.d,null,s.a.createElement(Se,{exact:!0,path:"/",component:function(e){return a(pe,e)}}),s.a.createElement(Se,{exact:!0,path:"/login",component:function(e){return a(pe,e)}}),s.a.createElement(Se,{exact:!0,path:"/register",component:function(e){return a(ye,e)}}),s.a.createElement(Se,{exact:!0,path:"/reset-password",component:function(e){return a(he,e)}}),s.a.createElement(ae.b,{exact:!0,path:"/reset-password-confirm/:email/:token/:is_new",component:function(e){return a(Oe,e)}}),s.a.createElement(we,{exact:!0,path:"/home",component:function(e){return a(be,e)}}),s.a.createElement(ae.b,{component:function(e){return a(je,e)}}))))}(Ce,r))}}]),a}(n.PureComponent);a(76),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window._DEV_MODE=!0;var Ie=N.has("locale")?N.get("locale"):"en";D.a.get("/locale/".concat(Ie,".json")).then((function(e){if(e.status>=400)throw new Error("Bad response from server");return e.data})).then((function(e){Object(r.render)(Object(n.createElement)(Fe,{locale:Ie,localeData:e}),window.document.getElementById("root"))})).catch((function(e){console.error(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.74db1ae8.chunk.js.map